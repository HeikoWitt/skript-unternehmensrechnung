## To Do

- HW: Ständiger Zugriff auf Abkürzungsverzeichnis, Symbolverzeichnis und evtl. Abbildungsverzeichnis möglich?
- L2G-Videos von Freidank: Lassen sich Zitat2Go-Links finden und zuordnen?
- HW: Offenes Format für Abbildungen? SVG? Open Source-Editor?
- Angaben zu Lizenzen
    - MIT für eLearn.js
    - CC für Content
    - L2G für Videos   

# Grundlagen der Unternehmensrechnung (oder des Rechnungswesens?)

StB Dr. Andreas Mammen   
Dr. Remmer Sassen     

Institut für Wirtschaftsprüfung und Steuerwesen   
Fakultät für Betriebswirtschaft   
Universität Hamburg    

2016, **cc-by-sa**



|||Einleitung///

## Einleitung

[Ideensammlung zum Vorgehen in diesem Abschnitt:]

 * Einführung in das Thema mit Beispiel ()
     * Motivation wecken
     * Emotional ansprechen
     * Vorwissen anregen     
    "Zwei Teilaspekte des betrieblichen Rechnungswesens..."    
    https://www2.uni-hamburg.de/hwi/st/GrdlRechnungswesen.pdf
 * Grundlagen und Wiederholung von Vorwissen
     * Benötigtes Vorwissen sichern und Lücken schließen
     * Thema im Kontext platzieren
     * Erste neue Informationen vermitteln
 * Themenbereich näher erörtern
     * Logische Herleitung
     * Zeitlicher Ablauf, Schrittweise Darstellung
     * Merksätze
     * wenn mögl. praktischer Bezug
 * Quiz zu den bisher behandelten Themen
     * neues Wissen festigen
     * Aktivierung der Lernenden
     * Feedback
 * Transfer zu anderen Anwendungsfeldern
     * Anknüpfungspunkte anbieten
     * Zugrundeliegende Muster herausarbeitenLink zum Abkürzungsverzeichnis

**Literatur**



- Freidank, C., & Velte, P. A. (2013). *Rechnungslegung und Rechnungslegungspolitik: Eine handels-, steuerrechtliche und internationale Einführung für Einzelunternehmen sowie Personen- und Kapitalgesellschaften; mit erläuternden Beispielen und 6 Übungsklausuren mit Lösungen* (2., wesentlich überarb. und erw. Aufl.). München: Oldenbourg.
    - Online zugänglich über Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/773791418), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=773791418) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=Rechnungslegung+und+Rechnungslegungspolitik&AU=Freidank+Velte+&CI=&ST=&PY=2013+&SB=&SS=&PU=&searchDigitalMediaOnly=1&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN)    
    -  Buch verfügbar an Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/729026892?institution=BELUGA_ALL), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=729026892) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=Rechnungslegung+und+Rechnungslegungspolitik&AU=Freidank+Velte+&CI=&ST=&PY=2013+&SB=&SS=&PU=&VERBUENDE=&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=HEBIS_RETRO&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN)    

----------
    
- Freidank, C., & Velte, P. (2012). *Kostenrechnung: Grundlagen des innerbetrieblichen Rechnungswesens und Konzepte des Kostenmanagements* (9., aktualisierte Aufl.). München: Oldenbourg.  
    - Online zugänglich über Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/775112291), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=775112291) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=Kostenrechnung&AU=Freidank+Velte&CI=&ST=&PY=2012&SB=&SS=&PU=&searchDigitalMediaOnly=1&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN) 
    - Buch verfügbar an Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/719666589?institution=BELUGA_ALL), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=719666589) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=Kostenrechnung&AU=Freidank+Velte&CI=&ST=&PY=2012&SB=&SS=&PU=&VERBUENDE=&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=HEBIS_RETRO&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN)    
      

----------

- Freidank, C., & Fischbach, S. A. (2012). *Übungen zur Kostenrechnung: Mit 130 Aufgaben und 10 Übungsklausuren sowie ausführlichen Lösungen* (7., aktualisierte und erw. Aufl.). München: Oldenbourg.   
    - Online zugänglich über Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/775112313?institution=BELUGA_ALL), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=782316344) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=%C3%9Cbungen+zur+Kostenrechnung&AU=Freidank+Fischbach&CI=&ST=&PY=2012&SB=&SS=&PU=&searchDigitalMediaOnly=1&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN)    
    - Buch verfügbar an Bibliotheken in [Hamburg](https://beluga.sub.uni-hamburg.de/vufind/Record/689743033?institution=BELUGA_ALL), [Norddeutschland](https://gso.gbv.de/DB=2.1/PPNSET?PPN=689743033) und [deutschlandweit](http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=%C3%9Cbungen+zur+Kostenrechnung&AU=Freidank+Fischbach&CI=&ST=&PY=2012&SB=&SS=&PU=&VERBUENDE=&kataloge=SWB&kataloge=BVB&kataloge=NRW&kataloge=HEBIS&kataloge=HEBIS_RETRO&kataloge=KOBV_SOLR&kataloge=GBV&kataloge=DDB&kataloge=STABI_BERLIN)   


----------

**Abkürzungsverzeichnis**   

**Symbolverzeichnis** 

|||Gliederung///
## Finanzbuchaltung  
Abkürzungsverzeichnis   
### Erster Teil: Einführung in das betriebliche Rechnungswesen (ReWe)   
#### Aufgaben des ReWe   
#### Teilgebiete des ReWe   
#### Zusammenhänge zwischen Finanz- und Rechnungswesen   
### Zweiter Teil: Finanzbuchhaltung (FiBu) und Jahresabschluss   
#### Grundlagen und gesetzliche Rahmenbedingungen    
#### Buchhalterische Erfassung ausgewählter Geschäftsvorfälle   
#### Überblick über die Aufstellungs-, Prüfungs- und Offenlegungspflichten des Jahresabschlusses und des Lageberichts   
### Dritter Teil: Besonderheiten der Rechnungslegung von Industrieunternehmen   
#### Einführung   
#### Bilanzrechtliche Herstellungskosten und ihre Zurechnung auf die Erzeugniseinheiten   
#### Retrograde Bewertung und Niederstwertprinzip   
#### Gesamt- und Umsatzkostenverfahren als alternative Formen der Gewinn- und Verlustrechnung   
### Vierter Teil: Zahlungs- und Erfolgskomponenten des Rechnungs- und Finanzwesens   
#### Begriffsabgrenzung   
#### Erfolgsermittlung und Erfolgsbegriffe   
## Kosten- und Leistungsrechnung  
### Einführung und Grundlagen der Kostentheorie
#### Kosten- und Betriebswirtschaftslehre
#### Kosten, Leistungen und Erfolg – Begriffsabgrenzungen
#### Grundbegriffe der Kostentheorie
### Kostenartenrechnung
#### Materialkosten
#### Personalkosten
#### Sondereinzelkosten
#### Kalkulatorische Kosten (Abschreibungen, Wagnisse/Risiken, Unternehmerlohn und Zinsen)
### Kostenstellenrechnung und Kostenträgerrechnung
#### Kostenstellenrechnung
#### Kostenträgerrechnung
### Systeme der Kostenrechnung
####Systematisierung
####Normalkostenrechnung
####Teilkosten- und Deckungsbeitragsrechnungen












# Ende. Ab hier Erläuterungen aus der Vorlage... 

~~~
# Überschrift 1   
## Überschrift 2   
### Überschrift 3   
#### Überschrift 4

Ein normaler Absatz wird mit einer Leerzeilen davor abgetrennt.

*ein Stern vor und nach Bereich macht kursiv* und     
**Zwei Sterne machen fett**.   
Ein Zeilenumbruch geht mit drei Leerzeichen.

> Ein Zitat wird mit dem Pfeil markiert.
> Dann wird es etwas eingerückt

* Aufzählung    
* geht mit Stern
* und Leerzeichen
* alternativ auch mit + oder -

1. Nummerierung    
2. geht mit     
3. Zahlen und Punkt
4. und Leerzeichen

![Alt-Text für eine Abbildung](NameDesBildes.jpg)

[Bezeichnung für einen Link](http://www.urlEinesLinks.html)

<http://www.schnell_Link_Ohne_Bezeichner.html>

    Code-Blöcke werden mit vier Leerzeichen (tab) vor der Zeile markiert.

~~~




Im Markdown darf der HTML-Code nicht eingerückt werden, da er sonst bei der Konvertierung als Quellcode erkannt und als Code-Block ausgegeben wird. 

Folgende Galerie wird aus diesem Code generiert.

<div class="slider preview-nav loop">
<ul class="img-gallery" id="x">
<li><img src="assets/img/md-illu_1.png" alt="md-produktion" /><p>Markdown ist kinderleicht zu erlernen.</p></li>
<li><img src="assets/img/md-illu_2.png" alt="Components" /><p>Zusammenspiel der Komponenten bei der Produktion von digitalen Skripten mit Markdown.</p>"</li>
<li><img src="assets/img/md-illu_3.png" alt="Future" /><p>Die Zukunft von Markdown als Autorensprache.</p></li>
<li><img src="assets/img/md-illu_4.png" alt="Media" /><p>Markdown kann viele verschiedene Medientypen in HTML einfügen.</p></li>
<li><img src="assets/img/md-illu_5.png" alt="Hello" /><p>Versuche auch mal, ein Markdown-Dokument zu erstellen. Ist gar nicht schwer!</p></li>
</ul>
</div>

Eine Galerie kann mit oder ohne Vorschaubilder sowie mit oder ohne Loop genutzt werden. Hierzu existieren verschiedene Klassen, die dem Slider zugeordnet werden können. Das sieht folgendermaßen aus:

* `<div class="slider">` ist ohne Vorschau und ohne Loop
* `<div class="slider preview-nav">` ist mit Vorschaubildern und ohne Loop
* `<div class="slider preview-nav loop">` ist mit Vorschaubildern und mit Loop

Die Höhe der Galerie kann vorgegeben werden, damit der Content unter der Galerie nicht springt. Dies geht in Abhängigkeit des größten Bildes oder einer vorgegebenen maximalen Höhe. Dies wird durch die Klasse des umschließenden `ul`-Elements definiert.

* `<ul class="img-gallery">` ist eine Galerie mit unterschiedlicher Höhe.
* `<ul class="img-gallery fixed-size">` ist eine Galerie mit der Höhe des größten Bildes.
* `<ul class="img-gallery fixed-size" style="max-height: 400px">` ist eine Galerie mit der Höhe von 400px.

Für weitere Funktionen können natürlich auch andere Bibliotheken für Bildergalerien eingebunden werden.

|||Video///

#### Video



*Video*    
- Video-Codec: .h264 - Frame-Rate: 25bps - Size: 800 x 450 px - Bitrate: 650-900 kbps

*Audio*    
- Audio-Codec: AAC - Channels: Mono - Bitrate: 96 kbps


~~~
<video preload="auto" controls="controls">
<source src="img/beispiel-video.mp4" type="video/mpeg">
<source src="img/beispiel-video.webm" type="video/webm">
Dein Browser unterstützt kein HTML5-Video. Um dir das Video dennoch ansehen zu können, folge einfach diesem <a href="img/beispiel-video.mp4">Link</a>.
</video>
~~~


~~~
<audio preload="auto" controls="controls">
<source src="assets/img/beispiel-audio.mp3" type="audio/mpeg">
Dein Browser unterstützt kein HTML5-Audio. Um dir das Audio-File dennoch anhören zu können, folge einfach diesem <a href="img/beispiel-audio.mp3">Link</a>.
</audio>
~~~

<audio preload="auto" controls="controls">
<source src="assets/img/beispiel-audio.mp3" type="audio/mpeg">
Dein Browser unterstützt kein HTML5-Audio. Um dir das Audio-File dennoch anhören zu können, folge einfach diesem <a href="img/beispiel-audio.mp3">Link</a>.
</audio>

|||Quizzes///

#### Quizzes

Nun kommen wir zu den etwas spezielleren Inhaltsbausteinen. Quizzes können, wie dynamische Medien auch, nur in der HTML-Ausgabe sinnvoll genutzt werden. Sie sollten daher mit einem `<div>`-Container umschlossen werden, der in der Druckausgabe ausgeblendet wird. Der Quellcode für solche interaktiven Bausteine werden in der Regel mit externen Editoren erstellt. Der Code kann anschließend problemlos im Markdown oder auch erst in der HTML-Ausgabe eingefügt werden. Wichtig ist, dass die benötigten Ressourcen in den Unterorder des Skripts hinterlegt und korrekt referenziert werden.

Quizzes können mit elearn.js relativ einfach auch ohne externe Editoren in ein digitales Skript eingefügt werden. Hierzu wurde quiz.js entwickelt, welches aus simplen HTML-Schnipseln interaktive Fragen und eine Ergebnisübersicht generiert. Bisher sind *Multiple-Choice-*, *Forced-Choice-* und *Kurztext*-Fragen möglich. Die Lösung wird verschlüsselt eingebunden, damit es nicht möglich ist, über den Quellcode zu schummeln.

Hier ein Beispiel für den HTML-Code einer Quizfrage:

```
<div class="question">
<h4>Welche Ausgabeformate sind aus einem Markdown Dokument möglich?</h4>
<div class="answers">
<label><input type="checkbox" name="q" value="Frage1-1"/>PDF</label>
<label><input type="checkbox" name="q" value="Frage1-2"/>DOCX</label>
<label><input type="checkbox" name="q" value="Frage1-3"/>PPT</label>
<label><input type="checkbox" name="q" value="Frage1-4"/>HTML</label>
<label><input type="checkbox" name="q" value="Frage1-5"/>PSD</label>
</div>
<div class="feedback correct">
Richtig, eigentlich alle Markdown-Editoren bieten einen HTML- und PDF-Export.
</div>
<div class="feedback incorrect">
Diese Dateiformate können sie leider nicht aus Markdown exportieren. Docx ist zwar mit Pandoc möglich, funktioniert aber am besten über einen Umweg über Richtext.
</div>
<a class="ans">b5ceb729a1b347aa357790e1588c88b3</a>
<a class="ans">1fd302a9c89fc92eead418857a7e5a07</a>
<a class="ans">4fc364339b2127eb81c13ab986a27085</a>
<a class="ans">a66ed4f718095c6e9d9d13a5d5ad60a3</a>
</div>
```

Die Frage wird dann im HTML wie folgt dargestellt:

<div class="question">
<h4>Welche Ausgabeformate sind aus einem Markdown Dokument möglich?</h4>
<div class="answers">
<label><input type="checkbox" name="q" value="Antwort-1"/>PDF</label>
<label><input type="checkbox" name="q" value="Antwort-2"/>DOCX</label>
<label><input type="checkbox" name="q" value="Antwort-3"/>PPT</label>
<label><input type="checkbox" name="q" value="Antwort-4"/>HTML</label>
<label><input type="checkbox" name="q" value="Antwort-5"/>PSD</label>
</div>
<div class="feedback correct">
Richtig, eigentlich alle Markdown-Editoren bieten einen HTML- und PDF-Export.
</div>
<div class="feedback incorrect">
Diese Dateiformate können sie leider nicht aus Markdown exportieren. Docx ist zwar mit Pandoc möglich, funktioniert aber am besten über einen Umweg über Richtext.
</div>
<a class="ans">6b482bb098af52d6d71da53d2fe64577</a>
<a class="ans">c59789dc850e3e78abd42e4cb8b60fd0</a>
</div>

Mit etwas Übung ist es relativ einfach, solche Quizfragen direkt per Quellcode in das Skript zu schreiben. Hierbei darf der Code jedoch nicht eingerückt werden, da er sonst vom Markdown als Quellcode erkannt und umgewandelt wird. Für die Verschlüsselung der Antworten kann folgende Webseite genutzt werden: [MD5-Hash Erstellung](http://www.md5hasher.net). Als Alternative wurde ein Java-Programm entwickelt, mit dem der Quellcode für Quizfragen komfortabel ohne die Arbeit im Quellcode erstellt werden kann.

Ein Tutorial zu den Quizfragen, weitere Informationen und den Quiz-Generator zum Download gibt es auf dieser Webseite: [Quiz.js](http://lab.min.uni-hamburg.de/quiz-js/)

|||Tabellen und Zitate///

### Einfügen weiterer Elemente

Im folgenden Abschnitt haben wir noch mal einige mögliche Inhalts-Elemente von digitalen Skripten zusammengefasst. Es hängt teilweise vom jeweiligen Markdown-Converter ab, ob diese Elemente verfügbar sind oder nicht.

#### Tabellen

Tabellen gehören nicht zu der Grundfunktion von Markdown, viele erweiterte Markdown-Implementationen und Editoren bieten jedoch Tabellen an. In der Regel werden Tabellen in Markdown durch Pipes `|` und Dashes `-` gezeichnet. Hier ein Beispiel:

~~~~
Head 1  | Head2   | Head3
------- | ------- | ------
Zelle A | Zelle B | Zelle C
Zelle D | Zelle E | Zelle F
~~~~

Dieser Code ergibt folgendes Ergebnis:

Head 1  | Head2   | Head3
------- | ------- | ------
Zelle A | Zelle B | Zelle C
Zelle D | Zelle E | Zelle F

Es wird deutlich, dass auf diese Art nur relativ einfache Tabellen erstellt werden können. Komplexere Tabellen können besser direkt in HTML geschrieben oder als Grafik eingebunden werden. Es sollte auch beachtet werden, dass sehr umfangreiche Tabellen nicht unbedingt dafür geeignet sind, direkt in einem Skript eingefügt zu werden. In einem solchen Fall kann auch ein Datei-Download über einen Link im Skript eine sinnvolle Lösung sein.

#### Info-Boxen oder Zitate

> **Dies ist eine Info-Box.**
> In einer solchen können Exkurse, Merksätze, Zitate oder ähnliches dargestellt werden. Aus Markdown wird diese Box mit dem HTML-Tag `<cite>` ausgezeichnet.

Eine solche Box kann in Markdown einfach durch ein größer-als-Zeichen `>` vor dem Absatz  ausgezeichnet werden. Im elearn.css ist das Cite-Element mit einer Markierung und einer Einrückung versehen und kursiv gesetzt. Andere Zeichenformatierungen wie fett oder Absätze sind auch in einer Info-Box erlaubt. Zitate sind in jeder Markdown-Variante möglich.

|||Code-Blöcke///



|||Formeln///

#### Formeln

Viele Editoren bieten von Haus aus eine Formelunterstützung mit an. Um Formeln einzufügen, wird die TeX-Notation mit `$`-Zeichen genutzt. In der HTML-Ansicht werden mittels der JavaScript-Lösung *MathJax* die TeX-Schnipsel in Schrift, MathML oder SVG-Grafiken umgewandelt.  Dies geht sowohl inline als auch in eigenen Absätzen. Zum Beispiel wird der Code

```
${n! \over k!(n-k)!} = {n \choose k}$
```

zu ${n! \over k!(n-k)!} = {n \choose k}$.

Für die Druckausgabe werden von den Konvertern die TeX-Elemente durchgereicht oder die svg-Grafiken eingebunden. *MathJax* bietet auch eine Reihe von LaTeX-Erweiterungen, die zur Nutzung noch heruntergeladen und in die Ressourcenordner hinzugefügt werden müssten.

**Links:** [mathjax](https://www.mathjax.org)


|||Revision///

### Finalisierung und Veröffentlichung des Skripts

Im folgenden Abschnitt werden die Handlungsschritte zur Fertigstellung eines digitalen Skriptes dargestellt. Momentan ist noch relativ viel "Handarbeit" nötig, in Zukunft sollen die meisten Schritte davon zumindest halbautomatisch vonstatten gehen.

#### Revision

Kein Skript ist fehlerfrei, sei es inhaltlich oder nur von Seiten der Rechtschreibung, daher sollten möglichst viele Fehler bereits vor der Veröffentlichung gefunden und korrigiert werden. Mancher Leser wird jetzt den Korrekturmodus eines Office-Programms vermissen. Zum Korrekturlesen eignet sich meist eine konvertierte Version des Skriptes, sei es HTML oder PDF. Bei den meisten pdf-Readern ist eine Kommentarfunktion eingebaut, so dass sich das Skript damit annotieren lässt. Die HTML-Ausgabe mit CSS ist gut geeignet, um die richtige Formatierung zu überprüfen. Viele Autoren werden dies schon im Schreibprozess selbst über die Vorschau ihres Editors getan haben. Es sollte also auf verschiedenen Ebenen nach Fehlern gesucht werden:

* Inhaltlich: Lassen sie ihr Skript von einem Kollegen gegenlesen.
* Rechtschreibung: Lassen sie ihr Skript von jemand Fachfremden gegenlesen.
* Auszeichnung / Code: Überprüfen Sie dies selbst.

|||Erstellung finaler Dateien///

#### Erstellen der finalen Dateien

Sobald das Skript inhaltlich korrekt und frei von Verschreibungen ist, kann die Finalisierung der Dateien beginnen. Dieser Prozess ist zur Zeit noch nicht optimiert, das Potential zur (Teil-)Automatisierung ist hier aber sehr hoch. Noch müssen einzelne HTML- und Skript-Schnipsel in die HTML-Ausgabe eingefügt werden und zum Schluss alle Dateien in Ordnern zusammen gebündelt werden.

Der Vorgang ist noch nicht standardisiert und kann auf unterschiedliche Weise erfolgen. Je nach genutztem Editor oder Betriebssystem kann der Prozess leicht unterschiedlich aussehen. Es folgen eine Reihe von Schritten, die für die HTML-Ausgabe notwendig sind:

**Paginierung**. Um das Skript auf mehreren Seiten anzeigen zu können, muss als erster Schritt die Markierungen für die Seitenumbrüche eingefügt werden. Im Markdown bietet sich hierfür eine ungewöhnliche Zeichenfolge an, die einen optischen Marker setzt und gleichzeitig keine Bedeutung in HTML oder Markdown besitzt. Wir nutzen hierfür gern  `|||Name der Sektion///`, diese Zeichenfolge kann dann in der HTML-Ausgabe durch *suchen/ersetzen* in folgenden Code umgewandelt werden.

~~~
 </section>
 <section name="Name der Sektion">
~~~

Ein solcher Prozess könnte zukünftig auch automatisiert erfolgen. Die Sektionen werden in der finalen HTML-Ansicht durch das JavaScript getrennt voneinander angezeigt, quasi auf verschiedenen Seiten.

Zwischen die Anführungsstriche bei dem Parameter *name* wird jeder Seite ein Name gegeben werden. welcher in der finalen Ansicht in der Kopfzeile über der Seite und in der Seitenübersicht erscheint, wenn man auf den Seitentitel klickt.

**HTML-Generierung**. Nun ist es an der Zeit, HTML-Code aus dem Markdown-Dokument zu generieren. Die meisten Markdown-Editoren besitzen eine HTML-Ausgabe. Wichtig ist, dass das HTML ohne Style rausgeschrieben wird. Manche Konverter Fügen den Überschriften Anker hinzu oder fügen weitere Tags zur Formatierung hinzu. Daher ist es notwendig einen Konverter zu nutzen, der möglichst sauber und ohne Zusätze exportiert. Eine sehr Saubere Ausgabe erhalte ich Beispielsweise aus Mac-Down mit deaktivierten Styles oder aus Sublime Text über das Plugin *Markdown-Preview*.

Das Ergebnis der Ausgabe sollte also einen sauberen HTML-Body beinhalten, den ich in die index.html des Templates des elearn.js in den `<div class="page">`-Container einfüge. Der entsprechende Bereich ist im Template mit Kommentaren markiert. Im Template sind auch bereits alle Script und CSS Dateien verknüpft und in den Asset-Ordnern abgelegt. Das Plugin *Markdown Preview* für SublimeText bietet die Möglichkeit, dass man das HTML-Template beim Export automatisch gefüllt. Hierzu muss in der HTML-Vorlage der zu füllende Bereich mit `{{ HTML }}` gekennzeichnet und der Ort im Filesystem in den Preferences des Plugins angegeben werden. Ebenso muss in den Preferences die image_path_conversion auf "none" gestellt werden. Ein passendes leeres HTML-Template befindet sich im elearn.js-Ordner.

|||Metadaten///

**Metadaten**. Es gibt zwei Arten von Metadaten in der index.html. Die HTML-Metadaten im Header und das Info-Feld. Die HTML-Metadaten sind für Suchmaschinen und Browser relevant und sollten dementsprechend ausgefüllt werden.

Das *Info-Feld* für ein Skript kann in der finalen HTML-Ansicht über den Eintrag *Information* im Seiten-Menü eingeblendet werden. Das Info-Feld eines digitalen Skriptes sollten mindestens folgende Daten beinhalten:

* Name der AutorIn
* Erstellungsdatum
* Institution
* Version
* Lizenz

Das Info-Feld ist recht frei mit HTML formatierbar. Wichtig ist, die umschließenden div-Container beizubehalten, um eine korrekte Anzeige als Lightbox-Overlay zu erhalten. Hier ein Beispiel für eine Metadaten-Box:

```
 <div class="lb-wrap" id="info">
    <div class="lightbox">
        <div class="info-wrapper">
            <!--Der Inhalt der Info-Box kann frei mit HTML-Inhalt gefüllt werden. -->
            <h4>elearn.js Template</h4>
            <p>
                Prof. Dr. Name des Autors<br>
                Universität Hamburg
            <p>
            <p>
                Lizenz: <a href="https://creativecommons.org/licenses/by-sa/2.0/de/" target="_blank">CC-by-sa</a>
            </p>
        </div>
    </div>
</div>
```

In der Info-Box können auch Verweise auf genutzte Ressourcen angegeben werden, z.B. Abbildungen unter CC-Lizenz. Auch andere Angaben wären hier denkbar, etwa Danksagungen, Drittmittel-Förderung, Co-Autoren und Ähnliches. Per JavaScript wird hier eine kleine Fußzeile eingeblendet, dass das Skript auf der Basis des elearn.js aufgebaut ist.

|||PDF und ePub///

**Rausschreiben von PDF**. Für eine einfache PDF-Version reicht es meist, die HTML-Ausgabe über die Drucken-Funktion des Browsers zu generieren (pdf-Drucken). Um absolut saubere PDF-Dateien zu generieren, ist der TeX-Export von Pandoc empfehlenswert, um dann mit einer Tex-Layoutvorlagen das PDF zu generieren. Im SublimeText mit Pandoc-Plugin geht dies über die Tastenfolge cmd-shift-p > pandoc. Im darauf erscheinenden Dropdown-Menü können die verschiedenen Formate ausgewählt werden. Pandoc benötigt für den TeX-Export absolute Pfade für die Abbildungen, daher müsste vor der Konvertierung der Ort des Skriptes im Filesystem durch Suchen-Ersetzen dem Pfad zum Bild hinzugefügt werden. Der Pandoc-LaTeX-Konverter für PDF-Dateien kann keine svg-Dateien konvertieren. Diese müssten also im Vorfeld durch PNGs ersetzt werden.

**Rausschreiben von eBooks als ePub**: Der Export als ePub ist auch über Pandoc möglich. Ebenso wie der PDF-Export von Pandoc benötigt der ePub-Export auch absolute Pfade zu den Medien. Im ePub können jedoch auch svg-Grafiken verwendet werden.

|||Bereitstellung im Netz///

#### Im Netz bereitstellen

Die HTML-Ausgabe ist für die Anzeige auf dem Computer und Mobilgerät optimiert.Sie kann über einen Webserver im Internet angezeigt oder offline aus dem Dateisystem aufgerufen werden. Die Ressourcen für die Anzeige befinden sich alle im Assets-Ordner. So können alle Inhalte, zumindest bis auf Streaming-Medien, auch ohne Internetverbindung angezeigt und genutzt werden. Es ist aber wünschenswert, eine Instanz des Skriptes unter einer dauerhaften URL finden zu können. Hierfür muss einfach der gesamte Ordner mit der index-Datei und dem Asset-Ordner auf einem Webserver abgelegt werden. Anschließend kann von dem ganzen Paket noch ein Download.zip erstellt und ebenfalls in dem Ordner abgelegt werden. Registriert das elearn.js ein download.zip neben der index.html, so wird automatisch der Eintrag *Quelldateien Downloaden* im Side-Menü aktiviert. können ein PDF und ein EPUB--Download aktiviert werden. Es müssen hierzu nur die Dateien page.pdf und page.epub im Ordner neben die inderx.html abgelegt werden. 

> Hinweis: Wenn Video- oder Audio-Dateien per HTML5-Tag eingebunden sind, muss der Server entsprechende Mime-Types kennen. Wenn die Medien auf dem Server nicht abspielen, lokal auf ihrem Rechner jedoch schon, fragen Sie ihren Host nach den MIME-Types.
 
Zur Zeit existiert noch kein fester Ort für solche Online-Lernmedien an der Universität Hamburg. Als Mitglied der UHH kann man einen eigenen Webspace vom RRZ für solche Lernmedien nutzen. Ihre E-Learning-Supporteinrichtungen können Ihnen hierbei behilflich sein. 

Auch die *Lernplattformen* sind zum Veröffentlichen digitaler Skripte geeignet, an der UHH sind dies OLAT und CommSy. In *OLAT* bietet sich es an, ein ZIP mit allen Dateien im Editor eines neuen Content-Packages hochzuladen. Anschließend kann man den Asset-Ordner aus der Seitenübersicht ausblenden. Etwas störend bei der Ansicht in OLAT sind die vielen Navigationselemente um die Inhaltsbühne, so geht der *Reader-Effekt* des reduzierten Layouts vom elearn.js verloren. In *CommSy* kann ein ZIP-File in einem Materialeintrag hochgeladen werden. Wenn es auf der obersten Ebene eine index.html besitzt, so wird der Inhalt des ZIPs als HTML-Lernmodul angezeigt.


